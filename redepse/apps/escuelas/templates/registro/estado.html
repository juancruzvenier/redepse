{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Estado de Solicitud - REDEPSE</title>
    <link rel="stylesheet" href="{% static 'accounts/css/auth.css' %}" />
    <style>
      .solicitud-summary {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border-left: 4px solid #0066ff;
      }
      .summary-item {
        margin: 10px 0;
        padding: 8px;
        background: white;
        border-radius: 5px;
      }
      .summary-section {
        margin: 15px 0;
        padding: 15px;
        background: white;
        border-radius: 5px;
        border: 1px solid #ddd;
      }
      .status-header {
        text-align: center;
        margin-bottom: 30px;
      }
      .success-message {
        background: #d4edda;
        color: #155724;
        padding: 15px;
        border-radius: 5px;
        border: 1px solid #c3e6cb;
      }
      .info-box {
        background: #e7f3ff;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
        border-left: 4px solid #0066ff;
      }
    </style>
  </head>
  <body>
    <div class="auth-container">
      <img
        src="{% static 'accounts/img/LOGO_REDEPSE.png' %}"
        alt="Logo REDEPSE"
      />

      <!-- Mensaje principal -->
      <div class="status-header">
        <h1>âœ… Solicitud Enviada</h1>
        <div class="status-message success-message">
          <p>
            <strong>Â¡Listo! Su solicitud fue enviada correctamente.</strong>
          </p>
          <p>EstÃ¡ pendiente de revisiÃ³n por nuestro equipo.</p>
        </div>
      </div>

      <!-- InformaciÃ³n importante -->
      <div class="info-box">
        <h3>ğŸ“§ Revise su correo electrÃ³nico</h3>
        <p>
          Hemos enviado un comprobante a su casilla de correo. Si no lo recibe
          en las prÃ³ximas <strong>24 horas</strong>, contacte a la SecretarÃ­a:
        </p>
        <ul>
          <li>ğŸ“ TelÃ©fono: [NÃºmero de contacto]</li>
          <li>âœ‰ï¸ Email: [email de contacto]</li>
        </ul>
      </div>

      <!-- Resumen de la solicitud -->
      {% if escuela %}
      <div class="solicitud-summary">
        <h3>ğŸ“‹ Resumen de su solicitud</h3>

        <div class="summary-item">
          <strong>Escuela:</strong> {{ escuela.nombre_esc }}
        </div>

        <div class="summary-item">
          <strong>Localidad:</strong> {{ escuela.localidad }}
        </div>

        <div class="summary-item">
          <strong>DirecciÃ³n:</strong> {{ escuela.direccion }}
        </div>

        <div class="summary-item">
          <strong>Email:</strong> {{ escuela.email }}
        </div>

        <div class="summary-item">
          <strong>TelÃ©fono:</strong> {{ escuela.telefono1 }}
        </div>

        {% if solicitud %}
        <div class="summary-item">
          <strong>Estado de solicitud:</strong>
          {% if solicitud.estado == 'Aprobada' %}
          <span style="color: green; font-weight: bold"
            >âœ… {{ solicitud.estado }}</span
          >
          {% elif solicitud.estado == 'Pendiente' %}
          <span style="color: orange; font-weight: bold"
            >â³ {{ solicitud.estado }}</span
          >
          {% else %}
          <span style="color: red; font-weight: bold"
            >âŒ {{ solicitud.estado }}</span
          >
          {% endif %}
        </div>
        {% endif %}

        <div class="summary-section">
          <h4>ğŸ‘¨â€ğŸ« Entrenadores registrados ({{ entrenadores.count }}):</h4>
          <ul>
            {% for ent in entrenadores %}
            <li>
              {{ ent.nombre }} {{ ent.apellido }} - DNI: {{ ent.dni_ent }}
            </li>
            {% empty %}
            <li>No hay entrenadores registrados</li>
            {% endfor %}
          </ul>
        </div>

        <div class="summary-section">
          <h4>ğŸ‘¥ Alumnos registrados ({{ alumnos.count }}):</h4>
          <ul>
            {% for alum in alumnos %}
            <li>
              {{ alum.nombre }} {{ alum.apellido }} - DNI: {{ alum.dni_alumno }}
            </li>
            {% empty %}
            <li>No hay alumnos registrados</li>
            {% endfor %}
          </ul>
        </div>

        <div class="summary-section">
          <h4>ğŸ“… InformaciÃ³n de registro:</h4>
          <div class="summary-item">
            <strong>Fecha de envÃ­o:</strong> {{
            escuela.fecha_creacion|date:"d/m/Y H:i"|default:"No disponible" }}
          </div>
          <div class="summary-item">
            <strong>ID de solicitud:</strong> {{ escuela.id_esc }}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Botones de acciÃ³n -->
      <div class="action-buttons">
        <a href="{% url 'home' %}" class="btn-primary">ğŸ  Volver al Inicio</a>
        <a href="{% url 'accounts:logout' %}" class="btn-secondary"
          >ğŸšª Cerrar SesiÃ³n</a
        >
      </div>
    </div>
  </body>
</html>
