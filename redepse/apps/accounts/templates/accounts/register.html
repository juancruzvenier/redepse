{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Registrarse</title>
    <link rel="stylesheet" href="{% static 'accounts/css/auth.css' %}">
</head>

<body>
    <div class="auth-container">
        <img src="{% static 'accounts/img/LOGO_REDEPSE.png' %}" alt="Logo">
        <h1>Crear cuenta</h1>
        <p style="text-align:center; color:#555; margin-top:-8px; margin-bottom:16px;">
            Tras registrarte, revisa tu correo para activar la cuenta.
          </p>

        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <p class="{{ message.tags }}">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}

        {% if form.errors %}
        <div class="messages">
            {% for field, errors in form.errors.items %}
            {% for error in errors %}
            <p class="error">{{ error }}</p>
            {% endfor %}
            {% endfor %}
        </div>
        {% endif %}

        <form method="POST">
            {% csrf_token %}
            <input type="text" name="username" placeholder="Nombre de usuario" required>
            <input type="email" name="email" placeholder="Correo electrÃ³nico" required>
          
            <div class="password-wrapper">
              <input type="password" id="reg_password" name="password" placeholder="ContraseÃ±a" required>
              <button type="button" class="toggle-pass" onclick="togglePass('reg_password', this)">ğŸ‘</button>
            </div>
          
            <div class="password-wrapper">
              <input type="password" id="reg_password2" name="password2" placeholder="Confirmar contraseÃ±a" required>
              <button type="button" class="toggle-pass" onclick="togglePass('reg_password2', this)">ğŸ‘</button>
            </div>
          
            <input type="submit" value="Registrarse">
          </form>

        <a href="{% url 'accounts:login' %}">Â¿Ya tienes cuenta? Inicia sesiÃ³n</a>
        <a target="_blank" href="../../../../static/files/INSTRUCTIVO.pdf">Â¿No sabes cÃ³mo empezar? DescargÃ¡ el instructivo</a>
        <a href="{% url 'home' %}">â¬…ï¸ Volver a la pÃ¡gina principal</a>
    </div>
</body>

<script>
    function togglePass(id, btn) {
      const input = document.getElementById(id);
      const isPass = input.type === 'password';
      input.type = isPass ? 'text' : 'password';
      btn.textContent = isPass ? 'ğŸ™ˆ' : 'ğŸ‘';
    }
  </script>

</html>